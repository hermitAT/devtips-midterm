<!DOCTYPE html>
<html lang="en">
<head>
  <title>Home Page</title>
  <%- include('./partials/includes') %>
</head>

<body>
  <%- include('./partials/navbar') %>

  <main style="min-height: 80vh;">

    <div id="list-tips" class="container my-5">

        <div class="row">
          <div class="col-8 offset-half pl-2">
            <div class="card shadow-md border-0 rounded-0">
              <div class="card-header border-0">
                <%= tip.title %>
              </div>
              <div class="card-body" style="min-height: 15em;">
                <% if (tip.type === 'link') { %>
                  <a href="<%= tip.url %>"><%= tip.description %></a>
                <% } else if (tip.type === 'image') { %>
                  <img src="<%= tip.url %>" class="mw-100" alt="<%= tip.description %>">
                <% } else if (tip.type === 'video') { %>
                  <youtube-video controls src="<%= tip.url %>"></youtube-video>
                <% } else if (tip.type === 'markdown') { %>
                  <pre><%= tip.description %></pre>
                <% } else if (tip.type === 'code') { %>
                    <div class="code-block">
                      <pre class="code"><%= JSON.stringify(tip, null, 2) %></pre>
                    </div>
                <% } %>
              </div>
            </div>
            <% for(let comment of comments) { %>
              <div class="card shadow-sm border-0 rounded-0 comment my-2">
                <div class="card-body">
                  <img class="m-4 border rounded-circle shadow-md" width="42" height="42" src="https://avatars.dicebear.com/4.4/api/avataaars/<%= comment.user_id %>.svg">
                  <a href="/user/<%= comment.user_id %> "><%= comment.name %> </a>
                  <p class="mb-0"><%= comment.comment %> </p>
                  <span class="comment-date-created"><%= comment.created_at %> </span>
                </div>
              </div>
              <% } %>

          </div>
          <div class="col-3">
            <div class="card rounded-0 border-0 shadow-md">
              <div class="card-header border-0"></div>
              <a href="/user/<%= tip.creator_id %> "><img class="m-4 border rounded-circle shadow-md" src="https://avatars.dicebear.com/4.4/api/avataaars/<%= tip.creator_id %>.svg"></a>
              <div id="profile-info" class="d-flex flex-column align-items-center mb-4">
                <a href="/user/<%= tip.creator_id %> "><h5 id="profile-name"><%= tip.name %></h5></a>
                <p class="mb-0">Freelance Web Developer</p>
                <ul class="follow-us nav nav-social">
                  <li><a href="#"><i class="fab fa-lg fa-facebook-f" aria-hidden="true"></i></a></li>
                  <li><a href="#"><i class="fab fa-lg fa-twitter" aria-hidden="true"></i></a></li>
                  <li><a href="#"><i class="fab fa-lg fa-linkedin" aria-hidden="true"></i></a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>

    </div>
  </main>

  <footer class="bg-white text-muted py-5">
    <div class="container">
      <p class="float-right">
        <a href="#">Back to top</a>
      </p>
      <p>Â© Devtips 2020</p>
    </div>
  </footer>

    <!-- EnlighterJS -->
    <script type="text/javascript" src="../vendor/enlighterjs.min.js"></script>
    <!-- Init Code -->
    <script type="text/javascript">
        EnlighterJS.init('pre.code', 'code', {
                language : 'json',
                theme: 'dracula',
                indent : 2
        });
    </script>

</body>

</html>
